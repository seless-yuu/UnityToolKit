
# アプリケーションアーキテクト

下記に意図するアプリケーションの設計を示します
全体像から順に記述します
また、プログラムは全てライブラリであるという考えに従います
コードはアプリケーションを記述したデータやスクリプトを受け取り動作します
開発するのはアプリケーションですが、上記の考えにより再利用できるコードを記述する事に努めます

## 前提

### 環境

#### Unityゲームエンジン上に作成

UnityゲームエンジンバージョンはUnity6以降を想定します
システムは原則C#で記述されます
必要であればプラグインとして他言語を使用しても構いません

#### アセット管理

ラベル、パッケージ化はAddressableAssetSystemを使用します

### 方針

#### 全てを自分で記述しない

有効なパッケージ、ライブラリがある場合は積極的に使用します
その場合は意図を伝え提案を行なって下さい

#### 生成AIフレンドリー

可能な限り生成AIフレンドリーとします
具体的にはテキストデータを主に扱います

#### ジェネレータツール

また、直接記述する必要はなくコードジェネレータツールを作成するのが
効率的ならばそちらを選択します
C#でのSourceGeneratorを中心にその他言語でのツール、アセットジェネレータ作成も
念頭に置きます

#### Monobehaviourとロジックコードは分離する

MonoBehaviourとロジックは分離して記述します
Unityのヒエラルキーツリーをシーングラフとその状態ツリーと考えます
MonoBehaviourは描画されるオブジェクトとその状態を保持します
原則ロジックは別階層で記述し、MonoBehaviourはそれを使用する方針とします
ただし、全てをそうする事も現実的ではありません
例えばアプリケーションのエントリポイントや常駐物は難しいと考えます
無理な設計となる場合はエンジン設計に従い、それ以外は可能な限り上記方針とします

#### アプリケーションレイヤーは原則コードとして記述しない

アプリケーションレイヤーはLua、状態遷移が複雑な場合はVisualScriptingで記述します
生成AIフレンドリーを考え、Lua実装を優先します
LuaインタープリタはUnityアセットを使用します

## 全体設計

アプリケーションは下記の要素で構成されます

###
